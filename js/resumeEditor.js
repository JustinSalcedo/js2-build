(()=>{var e=Array.from(document.querySelectorAll(".skillAndLangForm"));0!=e.length&&e[0]&&e.forEach((function(e){return r(e)}));var t=document.querySelector(".resume-editor .add-skill button");function r(e){e.querySelector(".skill-up").addEventListener("click",(function(e){return n(e,"up")})),e.querySelector(".skill-down").addEventListener("click",(function(e){return n(e,"down")})),e.querySelector(".skill-del").addEventListener("click",o)}function n(t,r){t.preventDefault();var n=t.target.parentNode.parentNode.parentNode,o=parseInt(n.querySelector("input").getAttribute("id").replace("skill_",""));if("up"===r&&o||"down"===r&&o!==e.length-1){var l="up"===r?o-1:o+1;a(e[l],o),a(n,l);var c=document.querySelector(".skillAndLang-container");if("down"===r&&l===e.length-1)c.removeChild(e[l]),c.insertBefore(e[l],n);else{var i="up"===r?o-1:o+2;c.removeChild(n),c.insertBefore(n,e[i])}e=Array.from(document.querySelectorAll(".skillAndLangForm"))}}function o(t){t.preventDefault();var r=t.target.parentNode.parentNode.parentNode,n=parseInt(r.querySelector("input").getAttribute("id").replace("skill_",""));e.slice(n+1).forEach((function(e,t){return a(e,t+n)})),document.querySelector(".skillAndLang-container").removeChild(e[n]),e=Array.from(document.querySelectorAll(".skillAndLangForm"))}function a(e,t){Array.from(e.querySelectorAll(".input-group")).forEach((function(e,r){var n=r?"lang_".concat(t):"skill_".concat(t);e.querySelector("label").setAttribute("for",n),e.querySelector("input").setAttribute("name",n),e.querySelector("input").setAttribute("id",n)}))}t&&t.addEventListener("click",(function(t){t.preventDefault();var n=e.length,o=document.createElement("div");o.className="skillAndLangForm",o.innerHTML='\n        <div class="input-group ">\n            <label for="skill_'.concat(n,'" class="sr-only">Skill <button class="skill-up">üî∫</button><button class="skill-down">üîª</button><button class="skill-del">üóëÔ∏è</button></label>\n            <input type="text" name="skill_').concat(n,'" id="skill_').concat(n,'">\n        </div>\n        <div class="input-group ">\n            <label for="lang_').concat(n,'" class="sr-only">Languages</label>\n            <input type="text" name="lang_').concat(n,'" id="lang_').concat(n,'">\n        </div>'),r(o),document.querySelector(".skillAndLang-container").appendChild(o),e=Array.from(document.querySelectorAll(".skillAndLangForm"))}));var l=Array.from(document.querySelectorAll(".work-form"));0!=l.length&&l[0]&&l.forEach((function(e){return i(e)}));var c=document.querySelector(".resume-editor .add-work button");function i(e){e.querySelector(".work-up").addEventListener("click",(function(e){return u(e,"up")})),e.querySelector(".work-down").addEventListener("click",(function(e){return u(e,"down")})),e.querySelector(".work-del").addEventListener("click",p);var t=e.querySelector(".work-add-timg");t&&t.addEventListener("click",s)}function u(e,t){e.preventDefault();var r=e.target.parentNode.parentNode.parentNode,n=parseInt(r.querySelector("input").getAttribute("id").replace("workName_",""));if("up"===t&&n||"down"===t&&n!==l.length-1){var o="up"===t?n-1:n+1;d(l[o],n),d(r,o);var a=document.querySelector(".work-form-container");if("down"===t&&o===l.length-1)a.removeChild(l[o]),a.insertBefore(l[o],r);else{var c="up"===t?n-1:n+2;a.removeChild(r),a.insertBefore(r,l[c])}l=Array.from(document.querySelectorAll(".work-form"))}}function p(e){e.preventDefault();var t=e.target.parentNode.parentNode.parentNode,r=parseInt(t.querySelector("input").getAttribute("id").replace("workName_",""));l.slice(r+1).forEach((function(e,t){return d(e,t+r)})),document.querySelector(".work-form-container").removeChild(l[r]),l=Array.from(document.querySelectorAll(".work-form"))}c&&c.addEventListener("click",(function(e){e.preventDefault();var t=l.length,r=document.createElement("div");r.className="work-form",r.innerHTML='\n        <div class="input-group ">\n            <label for="workName_'.concat(t,'" class="sr-only">Name <button class="work-up">üî∫</button><button class="work-down">üîª</button><button class="work-del">üóëÔ∏è</button></label>\n            <input type="text" name="workName_').concat(t,'" id="workName_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="workPos_').concat(t,'" class="sr-only">Position</label>\n            <input type="text" name="workPos_').concat(t,'" id="workPos_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="workLoc_').concat(t,'" class="sr-only">Location</label>\n            <input type="text" name="workLoc_').concat(t,'" id="workLoc_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="workStrtDate_').concat(t,'" class="sr-only">Start date</label>\n            <input type="date" name="workStrtDate_').concat(t,'" id="workStrtDate_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="workEndDate_').concat(t,'" class="sr-only">End date</label>\n            <input type="date" name="workEndDate_').concat(t,'" id="workEndDate_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="workSumm_').concat(t,'" class="sr-only">Summary</label>\n            <input type="text" name="workSumm_').concat(t,'" id="workSumm_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="workUrl_').concat(t,'" class="sr-only">URL</label>\n            <input type="url" name="workUrl_').concat(t,'" id="workUrl_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="workHi_').concat(t,'" class="sr-only">Highlights</label>\n            <textarea name="workHi_').concat(t,'" id="workHi_').concat(t,'" cols="30" rows="4" placeholder="Tell something great..."></textarea>\n        </div>\n        <button class="work-add-timg">üñºÔ∏è Add a thumbnail (optional)</button>'),i(r),document.querySelector(".work-form-container").appendChild(r),l=Array.from(document.querySelectorAll(".work-form"))}));function d(e,t){Array.from(e.querySelectorAll(".input-group")).forEach((function(e,r){var n=e.querySelector("label").getAttribute("for").split("_")[0]+"_"+t;e.querySelector("label").setAttribute("for",n),7===r?(e.querySelector("textarea").setAttribute("name",n),e.querySelector("textarea").setAttribute("id",n)):(e.querySelector("input").setAttribute("name",n),e.querySelector("input").setAttribute("id",n))}))}function s(e){e.preventDefault();var t=e.target.parentNode.parentNode,r=parseInt(t.querySelector("input").getAttribute("id").replace("workName_","")),n=document.createElement("div");n.className="timg-preview",n.innerHTML="\n        <img>";var o=document.createElement("div");o.className="input-group",o.innerHTML='\n        <label for="workTimg_'.concat(r,'" class="sr-only">Thumbnail (optional)</label>\n        <input type="file" accept="image/png, image/jpeg" name="workTimg_').concat(r,'" id="workTimg_').concat(r,'">'),o.querySelector("input").addEventListener("input",(function(e){return m(e,r,"work")}));var a=t.querySelector(".work-timg-field");e.target.removeEventListener("click",s),a.removeChild(e.target),a.querySelector(".timg-preview")||a.appendChild(n),a.appendChild(o)}function m(e,t,r){var n=e.target.files[0];if(!n.type||n.type.startsWith("image/")){var o=e.target.parentNode.parentNode.querySelector(".timg-preview"),a=o.querySelector("img"),l=new FileReader;l.addEventListener("load",(function(e){a.src=e.target.result;var n=document.getElementById("".concat(r,"OlTimg_").concat(t));n&&o.parentNode.removeChild(n)})),l.readAsDataURL(n)}else console.log("File is not an image.",n.type,n)}var y=Array.from(document.querySelectorAll(".proj-form"));0!=y.length&&y[0]&&y.forEach((function(e){return f(e)}));var v=document.querySelector(".resume-editor .add-project button");function f(e){e.querySelector(".proj-up").addEventListener("click",(function(e){return g(e,"up")})),e.querySelector(".proj-down").addEventListener("click",(function(e){return g(e,"down")})),e.querySelector(".proj-del").addEventListener("click",b);var t=e.querySelector(".proj-add-timg");t&&t.addEventListener("click",S)}function g(e,t){e.preventDefault();var r=e.target.parentNode.parentNode.parentNode,n=parseInt(r.querySelector("input").getAttribute("id").replace("projName_",""));if("up"===t&&n||"down"===t&&n!==y.length-1){var o="up"===t?n-1:n+1;k(y[o],n),k(r,o);var a=document.querySelector(".proj-form-container");if("down"===t&&o===y.length-1)a.removeChild(y[o]),a.insertBefore(y[o],r);else{var l="up"===t?n-1:n+2;a.removeChild(r),a.insertBefore(r,y[l])}y=Array.from(document.querySelectorAll(".proj-form"))}}function b(e){e.preventDefault();var t=e.target.parentNode.parentNode.parentNode,r=parseInt(t.querySelector("input").getAttribute("id").replace("projName_",""));y.slice(r+1).forEach((function(e,t){return k(e,t+r)})),document.querySelector(".proj-form-container").removeChild(y[r]),y=Array.from(document.querySelectorAll(".proj-form"))}v&&v.addEventListener("click",(function(e){e.preventDefault();var t=y.length,r=document.createElement("div");r.className="proj-form",r.innerHTML='\n        <div class="input-group ">\n            <label for="projName_'.concat(t,'" class="sr-only">Name <button class="proj-up">üî∫</button><button class="proj-down">üîª</button><button class="proj-del">üóëÔ∏è</button></label>\n            <input type="text" name="projName_').concat(t,'" id="projName_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projEnt_').concat(t,'" class="sr-only">Entity</label>\n            <input type="text" name="projEnt_').concat(t,'" id="projEnt_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projType_').concat(t,'" class="sr-only">Type</label>\n            <input type="text" name="projType_').concat(t,'" id="projType_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projStrtDate_').concat(t,'" class="sr-only">Start date</label>\n            <input type="date" name="projStrtDate_').concat(t,'" id="projStrtDate_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projEndDate_').concat(t,'" class="sr-only">End date</label>\n            <input type="date" name="projEndDate_').concat(t,'" id="projEndDate_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projRoles_').concat(t,'" class="sr-only">Roles</label>\n            <input type="text" name="projRoles_').concat(t,'" id="projRoles_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projDesc_').concat(t,'" class="sr-only">Description</label>\n            <input type="text" name="projDesc_').concat(t,'" id="projDesc_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projHi_').concat(t,'" class="sr-only">Highlights</label>\n            <textarea name="projHi_').concat(t,'" id="projHi_').concat(t,'" cols="30" rows="4" placeholder="Tell something great..."></textarea>\n        </div>\n        <div class="input-group ">\n            <label for=projUrl_').concat(t,'" class="sr-only">URL</label>\n            <input type="url" name="projUrl_').concat(t,'" id="projUrl_').concat(t,'">\n        </div>\n        <div class="input-group ">\n            <label for="projKeys_').concat(t,'" class="sr-only">Keys</label>\n            <input type="text" name="projKeys_').concat(t,'" id="projKeys_').concat(t,'">\n        </div>\n        <button class="proj-add-timg">üñºÔ∏è Add a thumbnail (optional)</button>'),f(r),document.querySelector(".proj-form-container").appendChild(r),y=Array.from(document.querySelectorAll(".proj-form"))}));function k(e,t){Array.from(e.querySelectorAll(".input-group")).forEach((function(e,r){var n=e.querySelector("label").getAttribute("for").split("_")[0]+"_"+t;e.querySelector("label").setAttribute("for",n),8===r?(e.querySelector("textarea").setAttribute("name",n),e.querySelector("textarea").setAttribute("id",n)):(e.querySelector("input").setAttribute("name",n),e.querySelector("input").setAttribute("id",n))}))}function S(e){e.preventDefault();var t=e.target.parentNode.parentNode,r=parseInt(t.querySelector("input").getAttribute("id").replace("projName_","")),n=document.createElement("div");n.className="timg-preview",n.innerHTML="\n        <img>";var o=document.createElement("div");o.className="input-group",o.innerHTML='\n        <label for="projTimg_'.concat(r,'" class="sr-only">Thumbnail (optional)</label>\n        <input type="file" accept="image/png, image/jpeg" name="projTimg_').concat(r,'" id="projTimg_').concat(r,'">'),o.querySelector("input").addEventListener("input",(function(e){return m(e,r,"proj")}));var a=t.querySelector(".proj-timg-field");e.target.removeEventListener("click",S),a.removeChild(e.target),a.querySelector(".timg-preview")||a.appendChild(n),a.appendChild(o)}})();